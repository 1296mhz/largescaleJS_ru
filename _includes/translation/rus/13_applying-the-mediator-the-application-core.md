<!-- ### Использование медиатора: ядро приложения -->

Медиатор играет роль ядра приложения. Мы коротко пройлемся по некоторым его
зонам ответственности, но сначала давайте разберемся, что он из себя представляет
в целом.

Основная задача ядра — управлять **жизненным циклом** модулей. Когда ядро 
получает **интересное сообщение** от моулей, оно должно определить, как
приложение должно на это отреагировать, таким образом ядро определяет когда
определенный модуль или набор модулей будет **запущен** или **остановлен**.

{:.message}
Однажды запущенный модуль, в идеальной ситуации, должен функционировать
самостоятельно. В задачи ядра не входит принятие решений как реагировать,
например, на событие `DOM ready`, в нашей архитектуе у модулей есть достаточно
возможностей для того, чтобы принимать такие решения самостоятельно.

Возможно, у вас вызовет удивление то обстоятельство, что модулям может
потребоваться остановка. Такое может произойти в том случае, если модуль вышел
из строя, либо если в работе модуля происходят существенные ошибки. Решение
об остановке модуля может помочь предотвратить некорректную работу его методов.
Последующий перезапуск таких модулей должен помочь решить возникшие проблемы.
Цель здесь в минимизации негативных последствий для пользователя нашего приложения.

В дополнение, ядро должно быть в состоянии **добавлять или удалять** модули
не ломая ничего. Типичный пример — определенный набор функций может быть
недоступен на начальном этапе загрузки страницы, но эти функции могут быть
загруженны динамически, на основе определенных действий со стороны пользователя.
Возвращаясь к нашему примеру с GMail, google может по умолчанию держать чат
в свернутом стостоянии и загружать соответствующий ему модуль динамически,
только если пользователь проявит интерес к использованию этой части приложения.
С точки зрения оптимизации производительности, это должно дать заметный эффект.

Обслуживание ошибок должно производиться также ядром приложения. В добавок
к сообщению об интересных событиях модули также должны сообщать и о любых ошибках
которые произошли в их работе. Ядро должно соответствующим образом реагировать
на эти ошибки (к примеру, останавливать модули, перезапускать их и тд). Это
важно как часть слабо связанной архитектуры, позволяющей реализовать новый
или лучший подход к реализации уведомления пользователя нашего приложения 
об ошибках без ручного изменения в каждом модуле. Используя механизм для 
публикации событий и подписки на них в медиаторе мы сможем достичь этого.